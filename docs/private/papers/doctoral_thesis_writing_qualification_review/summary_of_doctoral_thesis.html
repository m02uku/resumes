<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="">
<meta name="dcterms.date" content="2025-08-19">

<title>Computational Linguistic Study on Japanese Accent Estimation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-59898bd1c6b9d2bb783127feaa000c76.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-e310f37c06b14626bd4db825b63c131f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#research-background-and-objectives" id="toc-research-background-and-objectives" class="nav-link active" data-scroll-target="#research-background-and-objectives"><span class="header-section-number">1</span> Research Background and Objectives</a>
  <ul class="collapse">
  <li><a href="#research-questions" id="toc-research-questions" class="nav-link" data-scroll-target="#research-questions"><span class="header-section-number">1.1</span> Research Questions</a></li>
  <li><a href="#theoretical-framework" id="toc-theoretical-framework" class="nav-link" data-scroll-target="#theoretical-framework"><span class="header-section-number">1.2</span> Theoretical Framework</a>
  <ul class="collapse">
  <li><a href="#computational-phonology-foundation" id="toc-computational-phonology-foundation" class="nav-link" data-scroll-target="#computational-phonology-foundation"><span class="header-section-number">1.2.1</span> Computational Phonology Foundation</a></li>
  <li><a href="#multi-dimensional-evaluation-framework" id="toc-multi-dimensional-evaluation-framework" class="nav-link" data-scroll-target="#multi-dimensional-evaluation-framework"><span class="header-section-number">1.2.2</span> Multi-dimensional Evaluation Framework</a></li>
  </ul></li>
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology"><span class="header-section-number">1.3</span> Methodology</a>
  <ul class="collapse">
  <li><a href="#hybrid-architecture-design" id="toc-hybrid-architecture-design" class="nav-link" data-scroll-target="#hybrid-architecture-design"><span class="header-section-number">1.3.1</span> Hybrid Architecture Design</a></li>
  <li><a href="#experimental-design" id="toc-experimental-design" class="nav-link" data-scroll-target="#experimental-design"><span class="header-section-number">1.3.2</span> Experimental Design</a></li>
  <li><a href="#evaluation-metrics" id="toc-evaluation-metrics" class="nav-link" data-scroll-target="#evaluation-metrics"><span class="header-section-number">1.3.3</span> Evaluation Metrics</a></li>
  </ul></li>
  <li><a href="#expected-contributions" id="toc-expected-contributions" class="nav-link" data-scroll-target="#expected-contributions"><span class="header-section-number">1.4</span> Expected Contributions</a>
  <ul class="collapse">
  <li><a href="#theoretical-contributions" id="toc-theoretical-contributions" class="nav-link" data-scroll-target="#theoretical-contributions"><span class="header-section-number">1.4.1</span> Theoretical Contributions</a></li>
  <li><a href="#practical-contributions" id="toc-practical-contributions" class="nav-link" data-scroll-target="#practical-contributions"><span class="header-section-number">1.4.2</span> Practical Contributions</a></li>
  <li><a href="#interdisciplinary-impact" id="toc-interdisciplinary-impact" class="nav-link" data-scroll-target="#interdisciplinary-impact"><span class="header-section-number">1.4.3</span> Interdisciplinary Impact</a></li>
  </ul></li>
  <li><a href="#research-timeline-and-milestones" id="toc-research-timeline-and-milestones" class="nav-link" data-scroll-target="#research-timeline-and-milestones"><span class="header-section-number">1.5</span> Research Timeline and Milestones</a>
  <ul class="collapse">
  <li><a href="#year-1-foundation-and-baseline-establishment" id="toc-year-1-foundation-and-baseline-establishment" class="nav-link" data-scroll-target="#year-1-foundation-and-baseline-establishment"><span class="header-section-number">1.5.1</span> Year 1: Foundation and Baseline Establishment</a></li>
  <li><a href="#year-2-hybrid-architecture-development" id="toc-year-2-hybrid-architecture-development" class="nav-link" data-scroll-target="#year-2-hybrid-architecture-development"><span class="header-section-number">1.5.2</span> Year 2: Hybrid Architecture Development</a></li>
  <li><a href="#year-3-comprehensive-evaluation-and-validation" id="toc-year-3-comprehensive-evaluation-and-validation" class="nav-link" data-scroll-target="#year-3-comprehensive-evaluation-and-validation"><span class="header-section-number">1.5.3</span> Year 3: Comprehensive Evaluation and Validation</a></li>
  </ul></li>
  <li><a href="#significance-and-impact" id="toc-significance-and-impact" class="nav-link" data-scroll-target="#significance-and-impact"><span class="header-section-number">1.6</span> Significance and Impact</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="summary_of_doctoral_thesis.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Computational Linguistic Study on Japanese Accent Estimation</h1>
<p class="subtitle lead">Doctoral Thesis Abstract</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">true <a href="mailto:s-oswld-n@g.ecc.u-tokyo.ac.jp" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            The University of Tokyo
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 19, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="research-background-and-objectives" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Research Background and Objectives</h1>
<p>This research addresses a fundamental question in computational phonology: “What are the optimal representational units for language modeling?” using the lens of modern deep learning technologies. At the heart of this inquiry lies a fundamental tension within linguistics. On one hand, there are symbolic features such as distinctive features, phonemes, and syllables used in Optimality Theory <span class="citation" data-cites="prince2004optimality">(<a href="#ref-prince2004optimality" role="doc-biblioref">Prince and Smolensky 2004</a>)</span>, which are interpretable and elegant for human understanding. On the other hand, there are the powerful yet often opaque continuous vector representations that modern neural networks learn from vast amounts of data.</p>
<p>The motivation for this research stems from three key observations in current computational phonology: (1) the apparent disconnect between symbolic linguistic theories and neural network representations, (2) the superior performance of neural models despite their lack of interpretability, and (3) the absence of systematic frameworks for evaluating representational units across multiple dimensions of analysis.</p>
<section id="research-questions" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="research-questions"><span class="header-section-number">1.1</span> Research Questions</h2>
<p>This thesis addresses three interconnected research questions:</p>
<p><strong>RQ1: Empirical Landscape Elucidation</strong> What is the current empirical landscape across different representational units (continuous vectors, VQ codes, phonemes, features) when evaluated on diverse phonological tasks?</p>
<p><strong>RQ2: Neuro-symbolic Integration</strong> How can we design hybrid architectures that effectively integrate symbolic phonological knowledge with self-supervised neural representations?</p>
<p><strong>RQ3: Cognitive Plausibility Validation</strong> To what extent are these hybrid representations consistent with human language acquisition patterns and phonological processing?</p>
</section>
<section id="theoretical-framework" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="theoretical-framework"><span class="header-section-number">1.2</span> Theoretical Framework</h2>
<section id="computational-phonology-foundation" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="computational-phonology-foundation"><span class="header-section-number">1.2.1</span> Computational Phonology Foundation</h3>
<p>This research builds upon the rich tradition of computational phonology while embracing modern machine learning methodologies. The theoretical foundation rests on three pillars:</p>
<ol type="1">
<li><p><strong>Optimality Theory Integration</strong>: Utilizing Maximum Entropy Harmonic Grammar <span class="citation" data-cites="smolensky2006harmonic">(<a href="#ref-smolensky2006harmonic" role="doc-biblioref"><strong>smolensky2006harmonic?</strong></a>)</span> as a bridge between symbolic constraints and neural optimization.</p></li>
<li><p><strong>Self-Supervised Learning Paradigm</strong>: Leveraging wav2vec 2.0 <span class="citation" data-cites="baevski2020wav2vec">(<a href="#ref-baevski2020wav2vec" role="doc-biblioref">Baevski et al. 2020</a>)</span> and related models to extract rich phonological representations from raw audio.</p></li>
<li><p><strong>Vector Quantization Framework</strong>: Employing VQ-VAE <span class="citation" data-cites="oord2017neural">(<a href="#ref-oord2017neural" role="doc-biblioref">Oord, Vinyals, and Kavukcuoglu 2017</a>)</span> methodologies to create discrete neural codes that maintain some interpretability while preserving neural learning capabilities.</p></li>
</ol>
</section>
<section id="multi-dimensional-evaluation-framework" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="multi-dimensional-evaluation-framework"><span class="header-section-number">1.2.2</span> Multi-dimensional Evaluation Framework</h3>
<p>The research employs a comprehensive evaluation framework across four dimensions:</p>
<ul>
<li><strong>Predictive Accuracy</strong>: Performance on downstream phonological tasks</li>
<li><strong>Linguistic Interpretability</strong>: Alignment with established phonological theories</li>
<li><strong>Cognitive Plausibility</strong>: Consistency with human language processing patterns</li>
<li><strong>Computational Efficiency</strong>: Resource requirements and scalability</li>
</ul>
</section>
</section>
<section id="methodology" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="methodology"><span class="header-section-number">1.3</span> Methodology</h2>
<section id="hybrid-architecture-design" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="hybrid-architecture-design"><span class="header-section-number">1.3.1</span> Hybrid Architecture Design</h3>
<p>The core methodological contribution involves designing neuro-symbolic hybrid architectures that parameter Maximum Entropy Harmonic Grammar using self-supervised learning representations. This approach allows for:</p>
<ol type="1">
<li><strong>Constraint Learning</strong>: Automatic discovery of phonological constraints from data</li>
<li><strong>Weight Optimization</strong>: Neural optimization of constraint weights</li>
<li><strong>Symbolic Interpretability</strong>: Maintenance of interpretable constraint structures</li>
</ol>
</section>
<section id="experimental-design" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="experimental-design"><span class="header-section-number">1.3.2</span> Experimental Design</h3>
<p>The research employs a systematic comparative methodology:</p>
<ol type="1">
<li><strong>Baseline Establishment</strong>: Evaluation of pure symbolic and pure neural approaches</li>
<li><strong>Hybrid Architecture Testing</strong>: Systematic evaluation of different integration strategies</li>
<li><strong>Cross-linguistic Validation</strong>: Testing across multiple language families</li>
<li><strong>Developmental Simulation</strong>: Using CHILDES corpus for acquisition pattern validation</li>
</ol>
</section>
<section id="evaluation-metrics" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="evaluation-metrics"><span class="header-section-number">1.3.3</span> Evaluation Metrics</h3>
<p>Comprehensive evaluation across multiple dimensions:</p>
<ul>
<li><strong>Task Performance</strong>: Accuracy on phonological prediction tasks</li>
<li><strong>Interpretability Measures</strong>: Alignment with linguistic knowledge</li>
<li><strong>Cognitive Measures</strong>: ABX discrimination tasks and developmental trajectories</li>
<li><strong>Efficiency Metrics</strong>: Computational complexity and resource usage</li>
</ul>
</section>
</section>
<section id="expected-contributions" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="expected-contributions"><span class="header-section-number">1.4</span> Expected Contributions</h2>
<section id="theoretical-contributions" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="theoretical-contributions"><span class="header-section-number">1.4.1</span> Theoretical Contributions</h3>
<ol type="1">
<li><strong>New Representational Theory</strong>: A formal framework for optimal phonological representations</li>
<li><strong>Integration Methodology</strong>: Systematic approaches for neuro-symbolic integration</li>
<li><strong>Evaluation Framework</strong>: Multi-dimensional assessment protocols</li>
</ol>
</section>
<section id="practical-contributions" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="practical-contributions"><span class="header-section-number">1.4.2</span> Practical Contributions</h3>
<ol type="1">
<li><strong>Hybrid Architectures</strong>: Novel model designs for phonological processing</li>
<li><strong>Performance Improvements</strong>: Enhanced accuracy on phonological tasks</li>
<li><strong>Interpretable AI</strong>: More transparent neural phonological models</li>
</ol>
</section>
<section id="interdisciplinary-impact" class="level3" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="interdisciplinary-impact"><span class="header-section-number">1.4.3</span> Interdisciplinary Impact</h3>
<ol type="1">
<li><strong>Linguistics</strong>: New insights into phonological representation</li>
<li><strong>Machine Learning</strong>: Advances in neuro-symbolic integration</li>
<li><strong>Cognitive Science</strong>: Better understanding of language acquisition patterns</li>
</ol>
</section>
</section>
<section id="research-timeline-and-milestones" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="research-timeline-and-milestones"><span class="header-section-number">1.5</span> Research Timeline and Milestones</h2>
<section id="year-1-foundation-and-baseline-establishment" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="year-1-foundation-and-baseline-establishment"><span class="header-section-number">1.5.1</span> Year 1: Foundation and Baseline Establishment</h3>
<ul>
<li>Literature review completion</li>
<li>Baseline model implementation</li>
<li>Initial evaluation framework development</li>
</ul>
</section>
<section id="year-2-hybrid-architecture-development" class="level3" data-number="1.5.2">
<h3 data-number="1.5.2" class="anchored" data-anchor-id="year-2-hybrid-architecture-development"><span class="header-section-number">1.5.2</span> Year 2: Hybrid Architecture Development</h3>
<ul>
<li>Core hybrid model design</li>
<li>Initial experimental validation</li>
<li>Cross-linguistic testing initiation</li>
</ul>
</section>
<section id="year-3-comprehensive-evaluation-and-validation" class="level3" data-number="1.5.3">
<h3 data-number="1.5.3" class="anchored" data-anchor-id="year-3-comprehensive-evaluation-and-validation"><span class="header-section-number">1.5.3</span> Year 3: Comprehensive Evaluation and Validation</h3>
<ul>
<li>Cognitive plausibility studies</li>
<li>Performance optimization</li>
<li>Dissertation writing and defense preparation</li>
</ul>
</section>
</section>
<section id="significance-and-impact" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="significance-and-impact"><span class="header-section-number">1.6</span> Significance and Impact</h2>
<p>This research addresses a fundamental gap in computational phonology by providing systematic frameworks for evaluating and integrating different representational paradigms. The work has potential impact across multiple fields:</p>
<p><strong>For Theoretical Linguistics</strong>: Provides empirical grounding for phonological theories and offers new perspectives on representational adequacy.</p>
<p><strong>For Machine Learning</strong>: Advances the field of neuro-symbolic integration and provides novel architectures for structured prediction tasks.</p>
<p><strong>For Speech Technology</strong>: Offers more interpretable and potentially more robust models for speech processing applications.</p>
<p><strong>For Cognitive Science</strong>: Provides computational models that can be validated against human language processing data.</p>
<p>The research ultimately aims to bridge the gap between symbolic precision and neural learning capabilities, contributing to a more unified understanding of phonological representation in both human and artificial intelligence systems.</p>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-baevski2020wav2vec" class="csl-entry" role="listitem">
Baevski, Alexei, Yuhao Zhou, Abdelrahman Mohamed, and Michael Auli. 2020. <span>“Wav2vec 2.0: A Framework for Self-Supervised Learning of Speech Representations.”</span> In <em>Advances in Neural Information Processing Systems</em>, 33:12449–60. <a href="https://proceedings.neurips.cc/paper/2020/hash/92d1e1eb1cd6f9fba3227870bb6d7f07-Abstract.html">https://proceedings.neurips.cc/paper/2020/hash/92d1e1eb1cd6f9fba3227870bb6d7f07-Abstract.html</a>.
</div>
<div id="ref-oord2017neural" class="csl-entry" role="listitem">
Oord, Aaron van den, Oriol Vinyals, and Koray Kavukcuoglu. 2017. <span>“Neural Discrete Representation Learning.”</span> In <em>Advances in Neural Information Processing Systems</em>, 30:6306–15.
</div>
<div id="ref-prince2004optimality" class="csl-entry" role="listitem">
Prince, Alan, and Paul Smolensky. 2004. <span>“Optimality Theory: Constraint Interaction in Generative Grammar.”</span> <em>Optimality Theory in Phonology: A Reader</em>, 1–71.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>